# Research: Physical AI & Humanoid Robotics Book

**Feature Branch**: `001-physical-ai-book`
**Created**: 2025-12-09
**Status**: Complete

## Technology Decisions

### Static Site Generator: Docusaurus v3.x

**Decision**: Use Docusaurus v3.x as the documentation framework

**Rationale**:
- Purpose-built for documentation sites with built-in search, versioning, and navigation
- React-based architecture enables custom components when needed
- First-class support for Markdown/MDX with frontmatter metadata
- Native GitHub Pages deployment support with official GitHub Actions workflow
- Mermaid diagram integration via official theme plugin
- Active community and regular updates from Meta/Facebook
- Mobile-responsive design out of the box

**Alternatives Considered**:
- **MkDocs (Material)**: Python-based, excellent for simpler docs but less customizable
- **VitePress**: Vue-based, lightweight but smaller ecosystem
- **GitBook**: SaaS model with potential cost; less control over customization
- **Hugo**: Fast build times but steeper learning curve for React developers

### Deployment Platform: GitHub Pages

**Decision**: Deploy via GitHub Pages with GitHub Actions CI/CD

**Rationale**:
- Free hosting for public repositories
- Seamless integration with GitHub repository
- Official Docusaurus workflow available
- Custom domain support included
- Automatic HTTPS certificates

**Alternatives Considered**:
- **Netlify**: More features but unnecessary complexity for static docs
- **Vercel**: Similar to Netlify; overkill for documentation site
- **Cloudflare Pages**: Good option but GitHub Pages has tighter integration

### Diagram Tool: Mermaid

**Decision**: Use @docusaurus/theme-mermaid for architecture diagrams

**Rationale**:
- Native Docusaurus integration via official theme
- Diagrams defined in Markdown (version-controllable)
- Supports flowcharts, sequence diagrams, class diagrams, state diagrams
- Light/dark theme support
- No external image hosting required

**Configuration Required**:
```javascript
// docusaurus.config.js
export default {
  markdown: {
    mermaid: true,
  },
  themes: ['@docusaurus/theme-mermaid'],
  themeConfig: {
    mermaid: {
      theme: { light: 'neutral', dark: 'forest' },
    },
  },
};
```

### Package Manager: npm

**Decision**: Use npm (not Yarn) for dependency management

**Rationale**:
- Simpler setup with no additional installation required
- Lock file (package-lock.json) provides reproducible builds
- GitHub Actions examples work with both npm and yarn
- Lower barrier for contributors

### Sidebar Configuration: Autogenerated with Position Metadata

**Decision**: Use autogenerated sidebar with `sidebar_position` frontmatter

**Rationale**:
- Reduces maintenance overhead (no manual sidebars.js updates for new content)
- Frontmatter in each file controls ordering
- Directory structure reflects logical organization
- Supports nested categories automatically

**Implementation**:
```javascript
// sidebars.js
export default {
  tutorialSidebar: [
    {
      type: 'autogenerated',
      dirName: '.',
    },
  ],
};
```

Each markdown file includes:
```yaml
---
sidebar_position: 1
title: "Chapter Title"
description: "Chapter description for search and SEO"
---
```

### Content Structure: Single Page per Topic

**Decision**: One markdown file per topic/chapter section

**Rationale**:
- Clean URLs (one URL = one concept)
- Better for search engine indexing
- Easier to cross-reference specific sections
- Previous/Next navigation works naturally
- Each page can have distinct learning outcomes

**Alternative Rejected**:
- Multi-section long pages: Harder to navigate, worse for SEO, complex TOC

### Code Example Strategy: Inline with Copy Button

**Decision**: Embed code examples directly in markdown with language tags

**Rationale**:
- Docusaurus provides copy button automatically
- Syntax highlighting works via language specification
- Code stays in context with explanatory text
- No separate file management overhead

**Implementation**:
````markdown
```python title="ros2_node_example.py"
import rclpy
from rclpy.node import Node

class MinimalPublisher(Node):
    def __init__(self):
        super().__init__('minimal_publisher')
        # ...
```
````

## Technical Research

### Docusaurus Project Initialization

```bash
npx create-docusaurus@latest ai-robotics-book classic
cd ai-robotics-book
npm install @docusaurus/theme-mermaid
```

### GitHub Actions Workflow for Deployment

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  build:
    name: Build Docusaurus
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: npm

      - name: Install dependencies
        run: npm ci
      - name: Build website
        run: npm run build

      - name: Upload Build Artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: build

  deploy:
    name: Deploy to GitHub Pages
    needs: build
    permissions:
      pages: write
      id-token: write
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

### Docusaurus Configuration for GitHub Pages

```javascript
// docusaurus.config.js
export default {
  title: 'Physical AI & Humanoid Robotics',
  tagline: 'A comprehensive guide to building intelligent robots',
  url: 'https://[username].github.io',
  baseUrl: '/ai-robotics/',
  organizationName: '[username]',
  projectName: 'ai-robotics',
  trailingSlash: false,

  markdown: {
    mermaid: true,
  },
  themes: ['@docusaurus/theme-mermaid'],

  presets: [
    [
      'classic',
      {
        docs: {
          sidebarPath: './sidebars.js',
          routeBasePath: '/',
        },
        blog: false,
        theme: {
          customCss: './src/css/custom.css',
        },
      },
    ],
  ],

  themeConfig: {
    navbar: {
      title: 'Physical AI Book',
      items: [
        {
          type: 'docSidebar',
          sidebarId: 'tutorialSidebar',
          position: 'left',
          label: 'Curriculum',
        },
        {
          href: 'https://github.com/[username]/ai-robotics',
          label: 'GitHub',
          position: 'right',
        },
      ],
    },
    mermaid: {
      theme: { light: 'neutral', dark: 'forest' },
    },
  },
};
```

### ROS 2 Version Targeting

**Decision**: Target ROS 2 Jazzy Jalisco (latest LTS as of 2024)

**Rationale**:
- Long-term support release
- Current stable version
- Well-documented with official tutorials
- Compatible with Ubuntu 24.04 LTS

### NVIDIA Isaac Version Targeting

**Decision**: Target Isaac Sim 4.x (latest stable)

**Rationale**:
- Current production release
- ROS 2 bridge support
- Active documentation updates from NVIDIA

### Code Example Testing Strategy

**Decision**: Manual verification during authoring, documented environments

**Rationale**:
- Educational content focused on concepts, not production code
- Version-specific documentation (ROS 2 Jazzy, Isaac Sim 4.x) makes CI complex
- Clear prerequisites in each chapter sufficient for learners

**Implementation**:
- Each code example includes version requirements in comments
- Chapters list tested environment configurations
- Known issues documented in errata/resources section

## Open Items

None - all technical decisions resolved.
